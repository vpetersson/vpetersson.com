{{ define "main" }}
{{ partial "page-header.html" (dict "title" "Podcast") }}

<!-- Hero section with backstory -->
<section class="podcast-hero">
  <div class="podcast-hero-container">
    <div class="podcast-hero-content">
      <h2 class="podcast-hero-title">The story behind the podcast</h2>
      <p class="podcast-hero-text">
        Hey there! I'm Viktor, a proud nerd and seasoned entrepreneur with a knack for quirky innovation. From launching YippieMove, a pioneering email migration service, to co-creating Blotter, a top 10 Mac App Store productivity app, my journey has been all about embracing uncharted opportunities. Now, I lead Screenly, a leading secure digital signage product trusted by NASA, and developed Anthias, a top-ranked open-source digital signage solution. "Nerding Out with Viktor" is where I dive into the tech world, breaking down complex concepts with leading experts. Join me for some fun and insightful conversations!
      </p>
      <div class="podcast-hero-links">
        <h5 class="podcast-hero-links-title">Play On</h5>
        {{ partial "podcast-links.html" (dict "img_variant" "white" "source" .Title) }}
      </div>
    </div>
    <div class="podcast-hero-image">
      {{ $podImg := resources.Get site.Data.main.header_image }}
      {{ $pod400 := $podImg.Resize "400x webp" }}
      <img
        src="{{ $pod400.RelPermalink }}"
        alt="Viktor Petersson"
        width="{{ $pod400.Width }}"
        height="{{ $pod400.Height }}"
        loading="lazy"
      />
    </div>
  </div>
</section>

<!-- Featured episodes -->
{{ partial "featured-episodes.html" . }}

<!-- Subscription block -->
{{ partial "subscription-block.html" . }}

<!-- All episodes heading -->
<section class="all-episodes-header">
  <div class="all-episodes-header-container">
    <h2 class="all-episodes-title">All Episodes</h2>
    <p class="all-episodes-subtitle">Browse all episodes</p>
  </div>
</section>

<!-- All episodes feed -->
<div>
  <section class="content-feed-native">
    <div class="content-feed-container">
      <div class="content-list">
        {{ $paginator := .Paginate .Pages 12 }}
        {{ range $paginator.Pages }}
          {{ partial "content-card-native.html" (dict "content" . "type" "podcast") }}
        {{ end }}
      </div>

      {{ partial "pagination.html" . }}
    </div>
  </section>
</div>

<style>
.podcast-hero {
  background: var(--color-gray-800);
  padding: var(--space-10) var(--space-4);

  @media (min-width: 768px) {
    padding: var(--space-12) var(--space-6);
  }
}

.podcast-hero-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  max-width: 1110px;
  margin: 0 auto;
  gap: var(--space-8);

  @media (min-width: 768px) {
    flex-direction: row;
    gap: var(--space-12);
  }

  @media (min-width: 1024px) {
    gap: 155px;
  }
}

.podcast-hero-content {
  flex: 1;
}

.podcast-hero-title {
  font-size: var(--font-size-2xl);
  font-weight: 700;
  color: var(--color-white);
  margin: 0 0 var(--space-6) 0;

  @media (min-width: 640px) {
    font-size: var(--font-size-3xl);
  }

  @media (min-width: 1024px) {
    font-size: clamp(2rem, 1.6rem + 2vw, 3rem);
  }
}

.podcast-hero-text {
  font-size: var(--font-size-base);
  color: var(--color-gray-300);
  line-height: 1.7;
  margin: 0 0 var(--space-6) 0;
}

.podcast-hero-links {
  margin-top: var(--space-4);
}

.podcast-hero-links-title {
  font-size: var(--font-size-base);
  font-weight: 600;
  color: var(--color-white);
  margin: 0 0 var(--space-2) 0;
}

.podcast-hero-image {
  flex: 1;
  max-width: 480px;
  width: 100%;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    border-radius: var(--radius-xl);
  }
}

.all-episodes-header {
  background: var(--color-gray-900);
  padding: var(--space-10) var(--space-4) var(--space-6);

  @media (min-width: 768px) {
    padding: var(--space-12) var(--space-6) var(--space-8);
  }
}

.all-episodes-header-container {
  max-width: 800px;
  margin: 0 auto;
  text-align: center;
}

.all-episodes-title {
  font-size: var(--font-size-3xl);
  font-weight: 700;
  color: var(--color-white);
  margin: 0 0 var(--space-2) 0;
}

.all-episodes-subtitle {
  font-size: var(--font-size-lg);
  color: var(--color-gray-300);
  margin: 0;
}
</style>
{{ end }}
