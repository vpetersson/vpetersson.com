{{ $episode := . }}
{{ $youtube_id := replaceRE `.*[?&]v=([^&]+).*` "$1" .Params.youtube }}

<article class="featured-episode-card">
  <a href="{{ $episode.RelPermalink }}" class="featured-episode-link">
    <div class="featured-episode-thumbnail">
      <img
        src="https://img.youtube.com/vi/{{ $youtube_id }}/maxresdefault.jpg"
        alt="{{ $episode.Title }}"
        loading="lazy"
        width="1280"
        height="720"
      />
      <div class="featured-episode-play">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8 5v14l11-7z"/>
        </svg>
      </div>
    </div>
    <div class="featured-episode-content">
      <div class="featured-episode-meta">
        <span class="featured-episode-badge">Featured</span>
        <span class="featured-episode-info">S{{ $episode.Params.season }}E{{ $episode.Params.episode }} &bull; {{ partial "format-duration.html" $episode.Params.duration }}</span>
      </div>
      <h3 class="featured-episode-guest">
        {{ delimit $episode.Params.guests ", " }}
      </h3>
      <p class="featured-episode-title">{{ $episode.Title }}</p>
    </div>
  </a>
</article>
